#  Exercice 5 : Horloge avec Raspberry Pi Pico W et Servo Moteur

## Objectif

Dans cet exercice, on rÃ©alise une **horloge connectÃ©e** en utilisant un **Raspberry Pi Pico W** et un **servo moteur**.
Le Pico W se connecte Ã  Internet pour rÃ©cupÃ©rer lâ€™heure actuelle via le **protocole NTP** et oriente le servo selon lâ€™heure, simulant le mouvement dâ€™une aiguille dâ€™horloge.

---

##  MatÃ©riel requis

* Raspberry Pi Pico W
* Servo moteur (5 V, compatible PWM)
* Fils de connexion (jumper)
* Alimentation 5 V (ou USB + source externe pour le servo)

---

##  Ã‰tapes du projet

### 1ï¸âƒ£ Connexion Ã  Internet

Le Pico W se connecte Ã  un rÃ©seau Wi-Fi grÃ¢ce Ã  la bibliothÃ¨que **`network`**.
Lâ€™heure actuelle est ensuite rÃ©cupÃ©rÃ©e depuis Internet via le module **`ntptime`**, qui synchronise lâ€™horloge interne du microcontrÃ´leur.

### 2ï¸âƒ£ Calcul de lâ€™angle du servo

Le servo peut tourner de **0Â° Ã  180Â°**, reprÃ©sentant un **cadran de 12 heures** :

| Heure         | Angle (Â°) |
| :------------ | :-------: |
| 12 h          |     0Â°    |
| 1 h           |    15Â°    |
| 2 h           |    30Â°    |
| 3 h           |    45Â°    |
| 4 h           |    60Â°    |
| 5 h           |    75Â°    |
| 6 h           |    90Â°    |
| 7 h           |    105Â°   |
| 8 h           |    120Â°   |
| 9 h           |    135Â°   |
| 10 h          |    150Â°   |
| 11 h          |    165Â°   |
| 12 h (retour) |    180Â°   |

Formule utilisÃ©e :
[
\text{Angle (\u00b0)} = \bigg(\text{Heure mod 12} + \frac{\text{Minutes}}{60} + \frac{\text{Secondes}}{3600}\bigg) \times 15
]

### 3ï¸âƒ£ ContrÃ´le du servo

Le module **`machine`** est utilisÃ© pour piloter le servo via **PWM (50 Hz)**.
Lâ€™angle calculÃ© est converti en largeur dâ€™impulsion (\u00b5s) comprise entre **500 Âµs (0Â°)** et **2500 Âµs (180Â°)**.
Le servo se positionne automatiquement Ã  la bonne heure.

---

## ğŸ”Œ SchÃ©ma de cÃ¢blage


---

##  Fonctionnement du programme

1. Connexion au rÃ©seau Wi-Fi.
2. Synchronisation de lâ€™heure via le serveur NTP.
3. Calcul de lâ€™angle correspondant Ã  lâ€™heure locale.
4. Positionnement automatique du servo.
5. RÃ©pÃ©tition automatique (mise Ã  jour pÃ©riodique possible).

---

## ğŸ“„ Exemple dâ€™affichage dans Thonny

```
Connexion Ã : Nom_du_WIFI
âœ“ CONNECTÃ‰!
IP:Adresse_IP
Synchronisation avec le serveur NTP...
Heure synchronisÃ©e avec Internet !
Heure locale actuelle : 15:30:00
Angle calculÃ© : 82.5 Â°
â†’ Servo positionnÃ© Ã  82.5Â° (pulse = 1583 Âµs)
 Le servo est maintenant positionnÃ© selon lâ€™heure actuelle !
```

---

##  Code principal

Le script complet combine :

* la connexion Wi-Fi (`network`)
* la synchronisation NTP (`ntptime`)
* le calcul de lâ€™angle (`calcul_angle()`)
* le pilotage PWM du servo (`set_servo()`)

---

## ğŸ§¾ Conclusion

Ce projet dÃ©montre lâ€™intÃ©gration entre :

* **la connectivitÃ© Internet du Pico W**,
* **la gestion du temps via NTP**,
* **et le contrÃ´le PWM du servo moteur**.

Le rÃ©sultat est une **horloge connectÃ©e simple et fonctionnelle**, illustrant la synchronisation et la conversion dâ€™informations numÃ©riques en mouvement mÃ©canique.
